<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Stone Grimoire -- Folio: Jacob’s Ladder</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="description" content="Folio record for Jacob’s Ladder (Rosslyn helix / 33-step cosmogram). Archival metadata, invocation fields, and reflective commentary.">
<link rel="stylesheet" href="/assets/css/palette.css">
<link rel="stylesheet" href="/assets/css/light.css">
<style>
  body{margin:0;background:var(--bg,#f8f5ef);color:var(--ink,#2b2520);
       font:18px/1.6 'Iowan Old Style', Georgia, serif}
  .wrap{max-width:820px;margin:0 auto;padding:28px}
  h1{font-size:1.7rem;color:var(--accent,#2f5a9e);margin:0 0 .4rem}
  .meta{color:#6b6257;font-size:.95rem;margin:0 0 1.2rem;border-left:3px solid var(--accent-2,#d4af37);padding-left:.6rem}
  h2{font-size:1.1rem;color:#3d3a34;margin:1.2rem 0 .4rem}
  label{display:block;font-size:.9rem;margin:.4rem 0 .2rem;color:#4d4741}
  input,select,textarea{width:100%;padding:10px;border:1px solid var(--line,#d8d0c5);
    border-radius:8px;background:#fff;font:inherit}
  textarea{min-height:100px}
  .artifact{background:#fff;border:1px solid var(--line);border-radius:12px;padding:14px}
  .bar{display:flex;gap:10px;flex-wrap:wrap;margin-top:18px}
  .btn{background:var(--accent,#2f5a9e);color:#fff;border:0;border-radius:8px;padding:8px 12px;font:inherit;cursor:pointer}
  .btn.secondary{background:#fff;border:1px solid var(--line);color:#2b2520}
  footer{margin-top:28px;text-align:center;font-size:.9rem;color:#5a534b}
</style>
</head>
<body>
<div class="wrap">
  <h1>Folio -- Jacob’s Ladder</h1>
  <p class="meta">
    Catalog: Folio Ladder · License: CC-BY 4.0 (text) · Inner Temple study  
    Connected space: <a href="../chapels/jacobs-ladder.html">Jacob’s Ladder Chapel</a>
  </p>

  <h2>Intention</h2>
  <textarea id="intention" placeholder="Why record this Ladder? What ascent is willed?"></textarea>

  <h2>Technique</h2>
  <textarea id="technique" placeholder="Method of ascent: tones, planetary light, sefirotic meditation, visual reskin, ritual script."></textarea>

  <h2>Lineage</h2>
  <textarea id="lineage" placeholder="Sources & correspondences: Genesis 28, Rosslyn carvings, Qabalah (10 sefirot, 22 paths), Golden Dawn, Dion Fortune, Agrippa."></textarea>

  <h2>Evidence</h2>
  <div class="artifact">
    <textarea id="evidence" placeholder="Link to artifact (screenshot, JSON export, talisman design) or reproducibility notes."></textarea>
  </div>

  <h2>Reflection</h2>
  <textarea id="reflection" placeholder="What ascent was experienced? Which angel/path felt most resonant? Failures or openings?"></textarea>

  <div class="bar">
    <button class="btn" id="saveBtn">Save</button>
    <button class="btn secondary" id="clearBtn">Clear</button>
    <button class="btn secondary" id="exportBtn">Export JSON</button>
  </div>

  <div class="meta">
    ⟵ <a href="../folios/folio-shelf.html">Back to Folio Shelf</a> ·
    <a href="../cathedral.html">Return to Cathedral</a>
  </div>

  <footer>
    ❦ Stone Grimoire -- Jacob’s Ladder Folio ❦<br>
    93 93/93
  </footer>
</div>

<script>
(function(){
  const key = 'stone-grimoire:folio-jacobs-ladder';
  const fields = ['intention','technique','lineage','evidence','reflection'];

  function load(){
    try{
      const raw = localStorage.getItem(key);
      if(!raw) return;
      const data = JSON.parse(raw);
      fields.forEach(id=>{
        const el=document.getElementById(id);
        if(el && data[id]!==undefined){ el.value=data[id]; }
      });
    }catch(e){}
  }
  function save(){
    const data={};
    fields.forEach(id=>{
      const el=document.getElementById(id);
      data[id]=el?el.value:'';
    });
    localStorage.setItem(key, JSON.stringify(data));
    alert('Saved locally.');
  }
  function clearAll(){
    localStorage.removeItem(key);
    fields.forEach(id=>{
      const el=document.getElementById(id);
      if(el) el.value='';
    });
    alert('Cleared.');
  }
  function exportJSON(){
    const data={};
    fields.forEach(id=>{
      const el=document.getElementById(id);
      data[id]=el?el.value:'';
    });
    const blob=new Blob([JSON.stringify(data,null,2)],{type:'application/json'});
    const url=URL.createObjectURL(blob);
    const a=document.createElement('a');
    a.href=url; a.download='folio-jacobs-ladder.json';
    document.body.appendChild(a); a.click(); a.remove();
    URL.revokeObjectURL(url);
  }

  document.getElementById('saveBtn').addEventListener('click',save);
  document.getElementById('clearBtn').addEventListener('click',clearAll);
  document.getElementById('exportBtn').addEventListener('click',exportJSON);
  document.addEventListener('DOMContentLoaded',load);
})();
</script>
</body>
</html>