:root{
  /* core surfaces */
  --void:#0B0B0B; --ink:#141414; --bone:#F8F5EF;

  /* visionary (from data/visionary.json) */
  --indigo:#280050; --violet:#460082; --blue:#0080FF;
  --green:#00FF80; --amber:#FFC800; --light:#FFFFFF;

  /* secondary + docs/style/palette.json */
  --crimson:#B7410E; --gold:#C9A227; --obsidian:#0B0B0B;
  --rose-quartz:#FFB6C1; --teal-glow:#00CED1; --violet-alt:#8A2BE2;
  --grail-gold:#D4AF37; --violet-core:#460082; --violet-aura:#BB86FC;
  --nacre-pearl:#F2F3F4; --avalon-mist:#BCC2C6; --avalon-night:#1C2230;

  /* Andrew Gonzalez obsidian scale */
  --gonz-0:#0b0b0b; --gonz-1:#16121b; --gonz-2:#2a2140; --gonz-3:#5e4ba8; --gonz-4:#e6e6e6;

  /* line weights */
  --line-hair:1px; --line-primary:2px; --line-pillar:3px;

  /* typography */
  --font-display:"EB Garamond","Junicode",serif;
  --font-gothic:"Cinzel",serif;
  --font-ui:"Inter",system-ui,sans-serif;
  --scale-h1:1.888rem; --scale-h2:1.555rem; --scale-h3:1.333rem;
  --scale-body:1rem; --scale-small:.888rem;

  /* a11y */
  --min-contrast:4.5;
}

/* base */
html{color-scheme:light dark}
body{
  margin:0; padding:0;
  color:var(--bone);
  background:
    radial-gradient(1200px 700px at 50% 10%, var(--gonz-2) 0%, var(--gonz-1) 45%, var(--void) 100%);
  font-family:var(--font-ui);
  -webkit-font-smoothing:antialiased;
}

/* headings + ornament glow */
h1,h2,h3{
  font-family:var(--font-display);
  letter-spacing:.01em; text-rendering:optimizeLegibility;
}
h1{font-size:var(--scale-h1)}
h2{font-size:var(--scale-h2)}
h3{font-size:var(--scale-h3)}

/* sigil lines */
.sigil{stroke:var(--violet); stroke-width:var(--line-primary); fill:none}
.sigil--hair{stroke-width:var(--line-hair)}
.sigil--pillar{stroke-width:var(--line-pillar)}

/* portal frames */
.portal{
  border:var(--line-primary) solid var(--gold);
  box-shadow:0 0 24px 4px rgba(110,0,255,.25);
  background:linear-gradient(180deg, var(--gonz-2), transparent);
}

/* utility classes */
.violet-gate,.respawn-gate{
  width:240px;height:240px;border-radius:50%;
  border:var(--line-pillar) solid var(--grail-gold);
  background:radial-gradient(circle at center,var(--violet-core),transparent 70%);
  box-shadow:0 0 24px 4px rgba(138,43,226,.4);
}
.violet-gate.bg-soft,.respawn-gate.bg-soft{
  background:radial-gradient(circle at center,var(--violet-aura),transparent 70%);
}

.oracle-velvet{
  background:var(--gonz-2);
  box-shadow:inset 0 0 24px rgba(0,0,0,.5);
}

.luminous-heart{
  background:radial-gradient(circle at center,rgba(255,255,255,.8),transparent 70%);
}

.avalon-grove{
  background:linear-gradient(135deg,var(--avalon-mist),var(--avalon-night));
}

.between-narthex{
  background:radial-gradient(circle,var(--violet-core),transparent);
}
body.allow-motion .between-narthex[data-drift="on"]{
  animation:narthex-drift 60s linear infinite;
}
@keyframes narthex-drift{
  from{background-position:0 0}
  to{background-position:100% 100%}
}

.mode-rail{display:flex;gap:.5rem;flex-wrap:wrap}
.mode-chip,.solfeggio-chip{
  padding:.25rem .5rem;border:1px solid var(--gold);border-radius:9999px;font-size:.75rem
}

.egregore-card,.consecration-angel{
  border:var(--line-primary) solid var(--gold);
  border-radius:.5rem;padding:1rem;
  box-shadow:0 0 12px rgba(0,0,0,.5);
}

.protection-handsigil{
  position:relative;width:120px;height:120px;border-radius:50%;
  background:radial-gradient(circle at center,var(--teal-glow) 0 40%,transparent 40%),
             radial-gradient(circle at center,transparent 0 55%,var(--nacre-pearl) 55% 70%,transparent 70%);
  box-shadow:0 0 0 2px var(--grail-gold);
}
.protection-handsigil::after{
  content:"";position:absolute;top:15%;left:15%;width:70%;height:70%;
  border-radius:50%;border:2px solid var(--grail-gold);
  box-shadow:0 0 4px var(--gold);
}

/* ND-safe motion defaults */
@media (prefers-reduced-motion:reduce){
  *{animation:none !important; transition:none !important}
odex/update-world-of-enchantment-assets
  .between-narthex[data-drift="on"]{animation:none !important}

}

/* violet gate + respawn gate */
.violet-gate,.respawn-gate{
  width:200px;height:200px;border-radius:50%;
  border:var(--line-pillar) solid var(--grail_gold,var(--gold));
  background:radial-gradient(circle at center,var(--violet_core,var(--violet)) 0%,var(--void) 100%);
}
.violet-gate.bg-soft,.respawn-gate.bg-soft{
  background:radial-gradient(circle at center,rgba(110,0,255,.2)0%,transparent 80%);
}

/* oracle velvet */
.oracle-velvet{background:linear-gradient(145deg,var(--gonz-1),var(--gonz-3));color:var(--bone);}

/* luminous heart backdrop */
.luminous-heart{background:radial-gradient(circle at 50% 30%,rgba(255,255,255,.3),transparent 70%),var(--violet_aura,var(--violet));}

/* avalon grove */
.avalon-grove{background:linear-gradient(180deg,var(--avalon_mist),var(--avalon_night));color:var(--bone);}

/* between realm narthex */
.between-narthex{background:rgba(0,0,0,.6);backdrop-filter:blur(2px);}
body.allow-motion .between-narthex[data-drift="on"]{animation:veil-drift 40s linear infinite;}
@keyframes veil-drift{from{background-position:0 0;}to{background-position:1000px 0;}}

/* flavor chips */
.mode-rail{display:flex;gap:.5rem;flex-wrap:wrap;}
.mode-chip,.solfeggio-chip{padding:.25rem .5rem;border-radius:.25rem;background:var(--ink);border:1px solid var(--gold);font-size:.75rem;}

/* oracle + angel cards */
.egregore-card,.consecration-angel{border:var(--line-primary) solid var(--gold_leaf,var(--gold));padding:1rem;background:var(--ink);}

/* protection handsigil */
.protection-handsigil{--size:80px;width:var(--size);height:var(--size);border-radius:40% 40% 35% 35%;background:var(--nacre_pearl,#f0ead6);position:relative;}
.protection-handsigil::before{content:"";position:absolute;top:15%;left:20%;width:60%;height:60%;border-radius:50%;background:var(--teal_glow);box-shadow:0 0 0 4px var(--gold);}
.protection-handsigil::after{content:"";position:absolute;top:8%;left:30%;width:40%;height:20%;border-top-left-radius:50% 100%;border-top-right-radius:50% 100%;background:var(--gold);}
  .between-narthex[data-drift="on"]{animation:none !important}
}
